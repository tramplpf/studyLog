# UML之时序图



## 什么是时序图

时序图(Sequence Diagram) 是一种UML交互图。它通过描述对象之间**发送消息**的时间顺序显示多个对象之间的动态协作。 



## 时序图的作用

* 展示对象之间交互的顺序。将交互行为建模未消息传递，通过描述消息是如何在对象间发送和接收的来动态展示对象之间的交互
* 相对于其他UML，时序图更强调交互的时间顺序
* 可以直观的描述并发进程



## 组成元素有哪些（7个）

* 角色（Actor）
* 对象（Object）
* 生命线(Lifeline)
* 控制焦点(Focus of Control)
* 消息（Message）
  * 同步消息（Synchronous Message），异步消息（Asynchronous Message），返回消息（Return Message）
* 自关联消息
* 组合片段（13种）



### 角色

系统角色，可以是人，机器，其他系统，子系统；在时序图中使用一个小人表示。

### 对象

#### 对象的三种命名方式

* 包括对象名和类名，例如：直播课时:课时， 在时序图中，用 “对象：类”表示

* 第二种方式只显示类名，即表示它是一个匿名对象，例如 ”：课程“， 在时序图中，用”：类“表示

* 第三种方式只显示对象名不显示类名，例如”讲师：“，在时序图中用”对象“表示

  

#### 对象的排列顺序

对象的左右顺序并不重要，但是为了作图清晰整洁，通常应遵循以下两个原则：

* 把交互频繁的对象尽可能的靠拢；
* 把初始化整个交互活动的对象放置在最左端



#### 对象的创建时机

对象可以在交互开始的时候创建，也可以在交互过程中进行创建

* 处于顶部
  * 如果对象的位置在时序图的顶部，说明在交互开始的时候对象就已经存在了
  * 自己的理解：对象如果在开始的是就已经存在，对于spring容器中，就是项目启动时，容器中实例化好的对象
* 不在顶部
  * 如果对象的位置不在顶部，那么说明对象在交互过程中创建的
  * 自己的理解：对象在交互过程中创建，意味着，这些对象是自己在过程中，手动，通过new 关键字等方式创建的，不被spring容器管理。 

### 自关联消息

表示方法的自身调用或者一个对象内的一个方法调用另一个方法。

以一个半闭合的长方形+下方实心箭头表示。



### 生命线

时序图中每个对象和底部都有一条垂直的虚线，这就是对象的生命线（对象的时间线）。以一条垂直的虚线表示。



### 消息的表示

* 同步消息：消息的发送者把控制传递给消息的接收者，然后停止活动，等待消息的接收者放弃或者返回控制。用来表示同步的意义
  * 以一条实线和实心箭头表示

* 异步消息：消息发送者通过消息把信号传递给消息的接收者，然后继续自己的活动，不等待接收者返回消息或者控制，异步消息的接收者和发送者是并发工作的。
  * 以一条实线和大于号表示
* 返回消息：返回消息表示从过程调用返回
  * 以小于号和虚线表示
  * 返回消息对应的代码就是这个方法有返回值



### 组合片段





## 疑惑

1. 返回消息和同步消息有什么区别？
   1. 返回消息表示的是方法有返回值，而同步消息和异步消息表示的是调用的时候，被调用方法和主方法之间是否异步。
2. 同步消息和异步消息的图片展示感觉一样，一个是箭头，一个是大于号

















