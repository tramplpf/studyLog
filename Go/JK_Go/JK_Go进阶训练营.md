# JK Go进阶训练营

从20211101 开始学习Jk 的GO课程，课程一共有14节课，自己预计用2个月的时间看完。 截止到20210101看完。每天两个小时



## 01 开班

清楚课程定位，与专栏有差异，本课程主要帮助大家建立自己的知识体系，深度需要自己花时间去耕耘



## 02 微服务概览与治理

课程内容：

微服务的原理，概念，以及微服务的实现细节 API Gateway， BFF， Service 等概念精讲微服务通讯RPC框架的细节和选型





化繁为简，分而治之





### 微服务概览

##### 微服务的定义

围绕业务功能构建的，服务关注单一业务，服务间采用轻量级的通信机制，可以全自动独立部署，可以采用不同的编程语言和数据存储技术。微服务架构通过业务拆分是心啊服务组件化，通过组建组合快速开发系统，业务单一的服务组件又可以独立部署，使的整个系统变得清晰灵活。 

特点

* 原子服务
* 独立进程
* 隔离部署
* 去中心化服务治理

缺点：

* 基础设施的建设，复杂度高



##### 微服务的不足

* 微服务应用是分布式系统，由此会带来固有的复杂性。开发者不得不使用RPC或者消息传递，来实现进程间通信；此外，必须要写代码来处理消息传递中速度过慢或者服务不可用等局部失效问题。 
* 分区的数据库架构，同时更新多个业务主体的事务很普遍。这种事务对于单体式应用来说很容易，因为只有一个数据库，在微服务架构应用中，需要更新不同服务所使用的不同的数据库，从而对开发者提出了更高的要求和挑战。 
* 测试一个基于微服务架构的应用也是很复杂的任务。
* 服务模块间的依赖，应用的升级很可能会波及多个服务模块的修改
* 对运维基础设施的挑战比较大



##### 组建服务化

我们用Go实现一个微服务

* kit 一个微服务的基础库（框架）
* service： 业务代码 + kit依赖 + 第三方依赖组成的业务微服务
* rpc + message queue： 轻量级通讯



本质上等同于，多个微服务组合（compose）完成一个完整的用户场景。 



##### 按业务组织服务



***you build it， you fix it***





开发团队对软件在生产环境的运行付全部责任。 



##### 去中心化

* 数据去中心化
  * 数据库隔离
  * redis缓存服务器隔离
* 治理去中心化
* 技术去中心化
  * 一家公司还是应该谨慎点，别使用太多的技术栈



##### 基础设置自动化

无自动化不微服务， 自动化包括测试和部署。 





##### 可用性&兼容性设计

***Design For Failure***











#### 微服务设计

##### API Gateway





面向用户场景的API 



BFF： Backend for Frontend 面向后端的前端。 



***single point of failure 单点故障***



***康威法则***





#### 微服务划分



#### 微服务安全





#### gRPC & 服务发现







#### 多集群 & 多租户

​	





## 相关术语

流量洪峰

***single point of failure***  单点故障

***康威法则***

CORS：将应用程序分为两部分：命令端和查询端。





































